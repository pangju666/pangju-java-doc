import{_ as i,c as a,o as t,ag as e}from"./chunks/framework.XA8aHGu3.js";const g=JSON.parse('{"title":"SCAN","description":"","frontmatter":{"layout":"doc"},"headers":[],"relativePath":"framework/redis/template.md","filePath":"framework/redis/template.md","lastUpdated":1762592765000}'),n={name:"framework/redis/template.md"};function l(h,s,p,k,d,r){return t(),a("div",null,[...s[0]||(s[0]=[e(`<h1 id="scan" tabindex="-1">SCAN <a class="header-anchor" href="#scan" aria-label="Permalink to &quot;SCAN&quot;">​</a></h1><h2 id="scanredistemplate" tabindex="-1">ScanRedisTemplate <a class="header-anchor" href="#scanredistemplate" aria-label="Permalink to &quot;ScanRedisTemplate&quot;">​</a></h2><p><code>io.github.pangju666.framework.data.redis.core.ScanRedisTemplate&lt;V&gt;</code></p><p>用途：围绕<a href="https://redis.io/docs/latest/commands/scan/" target="_blank" rel="noreferrer"><code>Redis SCAN</code></a>命令提供简洁的扫描<code>API</code>，将游标结果聚合为集合或映射。</p><p>行为特性：</p><ul><li>采用渐进式迭代（<code>Cursor</code>），方法完成后自动关闭游标。</li><li>提供匹配模式由服务器端过滤；<code>ZSet</code>扫描结果按默认比较排序并返回<code>SortedSet</code>。</li></ul><p>匹配模式的序列化器要求：</p><ul><li>Key 扫描：本类固定键序列化器为<code>StringRedisSerializer</code>（不可更改），始终支持模式匹配。</li><li>Hash 扫描：本类固定哈希键序列化器为<code>StringRedisSerializer</code>（不可更改），只支持对哈希字段名（hash key/field）进行模式匹配。</li><li>Set/ZSet 扫描：当设置匹配模式时，当前值序列化器必须支持<code>String</code>类型序列化，否则抛出<code>UnsupportedOperationException</code>。</li></ul><p>方法列表：</p><table tabindex="0"><thead><tr><th>方法名</th><th style="text-align:left;">返回值</th><th style="text-align:center;">用途</th></tr></thead><tbody><tr><td>scanKeys</td><td style="text-align:left;">String</td><td style="text-align:center;">扫描所有键</td></tr><tr><td>scanKeysBySuffix</td><td style="text-align:left;">Set&lt;String&gt;</td><td style="text-align:center;">按后缀扫描所有键</td></tr><tr><td>scanKeysByPrefix</td><td style="text-align:left;">Set&lt;String&gt;</td><td style="text-align:center;">按前缀扫描所有键</td></tr><tr><td>scanKeysByKeyword</td><td style="text-align:left;">Set&lt;String&gt;</td><td style="text-align:center;">按关键字扫描所有键（包含该关键字）</td></tr><tr><td>scanZSet</td><td style="text-align:left;">SortedSet&lt;ZSetOperations.TypedTuple&lt;V&gt;&gt;</td><td style="text-align:center;">扫描 ZSet 的元素</td></tr><tr><td>scanSet</td><td style="text-align:left;">Set&lt;V&gt;</td><td style="text-align:center;">扫描 Set 的元素</td></tr><tr><td>scanHash</td><td style="text-align:left;">Map&lt;String, V&gt;</td><td style="text-align:center;">扫描 Hash 的键值对</td></tr><tr><td>scanHashBySuffix</td><td style="text-align:left;">Map&lt;String, V&gt;</td><td style="text-align:center;">按后缀扫描 Hash 的键值对（按哈希字段名过滤）</td></tr><tr><td>scanHashByPrefix</td><td style="text-align:left;">Map&lt;String, V&gt;</td><td style="text-align:center;">按前缀扫描 Hash 的键值对（按哈希字段名过滤）</td></tr><tr><td>scanHashByKeyword</td><td style="text-align:left;">Map&lt;String, V&gt;</td><td style="text-align:center;">按关键字扫描 Hash 的键值对（按哈希字段名过滤）</td></tr><tr><td>scanOptions</td><td style="text-align:left;">ScanOptions</td><td style="text-align:center;">构建扫描规则</td></tr></tbody></table><p><code>Spring Bean</code>定义示例：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Bean</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ScanRedisTemplate</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Object</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> redisTemplate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(RedisConnectionFactory redisConnectionFactory) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	ScanRedisTemplate&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; template </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ScanRedisTemplate&lt;&gt;();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	template.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setConnectionFactory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(redisConnectionFactory);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	template.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setKeySerializer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(RedisSerializer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	template.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setValueSerializer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(RedisSerializer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	template.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setHashKeySerializer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(RedisSerializer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	template.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setHashValueSerializer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(RedisSerializer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> template;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="扫描键" tabindex="-1">扫描键 <a class="header-anchor" href="#扫描键" aria-label="Permalink to &quot;扫描键&quot;">​</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ScanRedisTemplate&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; redisTemplate;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 扫描所有key</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">redisTemplate.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scanKeys</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 扫描所有list类型的key</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">redisTemplate.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scanKeys</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(DataType.LIST); </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 扫描所有后缀为test（*test）的key</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">redisTemplate.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scanKeysBySuffix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 扫描所有后缀为test（*test）且是list类型的key</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">redisTemplate.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scanKeysBySuffix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, DataType.LIST);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 扫描所有前缀为test（test*）的key</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">redisTemplate.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scanKeysByPrefix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 扫描所有前缀为test（test*）且是list类型的key</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">redisTemplate.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scanKeysByPrefix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, DataType.LIST);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 扫描所有键名包含（*test*）的key</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">redisTemplate.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scanKeysByPrefix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 扫描所有键名包含（*test*）且是list类型的key</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">redisTemplate.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scanKeysByPrefix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, DataType.LIST);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 也可以自定义扫描规则</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ScanOptions scanOptions </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> redisTemplate.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scanOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, DataType.STRING, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">redisTemplate.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scanKeys</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(scanOptions);</span></span></code></pre></div><h3 id="扫描set元素" tabindex="-1">扫描Set元素 <a class="header-anchor" href="#扫描set元素" aria-label="Permalink to &quot;扫描Set元素&quot;">​</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ScanRedisTemplate&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; redisTemplate;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 自定义扫描规则</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ScanOptions scanOptions </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> redisTemplate.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scanOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">redisTemplate.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scanSetValues</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test_set&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, scanOptions);</span></span></code></pre></div><h3 id="扫描zset元素" tabindex="-1">扫描ZSet元素 <a class="header-anchor" href="#扫描zset元素" aria-label="Permalink to &quot;扫描ZSet元素&quot;">​</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ScanRedisTemplate&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; redisTemplate;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 自定义扫描规则</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ScanOptions scanOptions </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> redisTemplate.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scanOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">redisTemplate.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scanZSetValues</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test_zset&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, scanOptions);</span></span></code></pre></div><h3 id="扫描hash元素" tabindex="-1">扫描Hash元素 <a class="header-anchor" href="#扫描hash元素" aria-label="Permalink to &quot;扫描Hash元素&quot;">​</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ScanRedisTemplate&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; redisTemplate;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 扫描test_hash下hash键后缀为name（*name）的所有键值对</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">redisTemplate.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scanHashBySuffix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test_hash&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 扫描test_hash下hash键前缀为name（name*）的所有键值对</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">redisTemplate.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scanHashByPrefix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test_hash&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 扫描test_hash下hash键包含name（*name*）的所有键值对</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">redisTemplate.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scanHashByKeyword</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test_hash&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 自定义扫描规则</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ScanOptions scanOptions </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> redisTemplate.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scanOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;*name*&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">redisTemplate.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scanHash</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(scanOptions);</span></span></code></pre></div><h2 id="stringscanredistemplate" tabindex="-1">StringScanRedisTemplate <a class="header-anchor" href="#stringscanredistemplate" aria-label="Permalink to &quot;StringScanRedisTemplate&quot;">​</a></h2><p><code>io.github.pangju666.framework.data.redis.core.StringScanRedisTemplate</code></p><p>在<code>ScanRedisTemplate</code>基础上，预设键、值、哈希键和哈希值的序列化器为<code>RedisSerializer.string()</code>，确保所有基于模式的扫描路径均与字符串序列化兼容。</p><p>提供对 ZSet/Set 元素的按后缀、前缀、关键字的便捷扫描方法。</p><table tabindex="0"><thead><tr><th>方法名</th><th style="text-align:left;">返回值</th><th style="text-align:center;">用途</th></tr></thead><tbody><tr><td>scanZSetBySuffix</td><td style="text-align:left;">SortedSet&lt;ZSetOperations.TypedTuple&lt;String&gt;&gt;</td><td style="text-align:center;">按后缀扫描 ZSet 的元素</td></tr><tr><td>scanZSetByPrefix</td><td style="text-align:left;">SortedSet&lt;ZSetOperations.TypedTuple&lt;String&gt;&gt;</td><td style="text-align:center;">按前缀扫描 ZSet 的元素</td></tr><tr><td>scanZSetByKeyword</td><td style="text-align:left;">SortedSet&lt;ZSetOperations.TypedTuple&lt;String&gt;&gt;</td><td style="text-align:center;">按关键字扫描 ZSet 的元素（包含该关键字）</td></tr><tr><td>scanSetBySuffix</td><td style="text-align:left;">Set&lt;String&gt;</td><td style="text-align:center;">按后缀扫描 Set 的元素</td></tr><tr><td>scanSetByPrefix</td><td style="text-align:left;">Set&lt;String&gt;</td><td style="text-align:center;">按前缀扫描 Set 的元素</td></tr><tr><td>scanSetByKeyword</td><td style="text-align:left;">Set&lt;String&gt;</td><td style="text-align:center;">按关键字扫描 Set 的元素（包含该关键字）</td></tr></tbody></table><h3 id="扫描set元素-1" tabindex="-1">扫描Set元素 <a class="header-anchor" href="#扫描set元素-1" aria-label="Permalink to &quot;扫描Set元素&quot;">​</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">StringScanRedisTemplate redisTemplate;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 扫描test_set下后缀为name（*name）的所有元素</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">redisTemplate.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scanHashBySuffix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test_set&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 扫描test_set下前缀为name（name*）的所有元素</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">redisTemplate.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scanHashByPrefix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test_set&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 扫描test_set下名包含name（*name*）的所有元素</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">redisTemplate.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scanHashByKeyword</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test_set&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h3 id="扫描zset元素-1" tabindex="-1">扫描ZSet元素 <a class="header-anchor" href="#扫描zset元素-1" aria-label="Permalink to &quot;扫描ZSet元素&quot;">​</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">StringScanRedisTemplate redisTemplate;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 扫描test_zset下后缀为name（*name）的所有元素</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">redisTemplate.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scanHashBySuffix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test_zset&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 扫描test_zset下前缀为name（name*）的所有元素</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">redisTemplate.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scanHashByPrefix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test_zset&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 扫描test_zset下包含name（*name*）的所有元素</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">redisTemplate.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scanHashByKeyword</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test_zset&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h2 id="jsonscanredistemplate" tabindex="-1">JsonScanRedisTemplate <a class="header-anchor" href="#jsonscanredistemplate" aria-label="Permalink to &quot;JsonScanRedisTemplate&quot;">​</a></h2><p><code>io.github.pangju666.framework.data.redis.core.JsonScanRedisTemplate</code></p><p>在<code>ScanRedisTemplate</code>基础上，预设值和哈希值的序列化器为<code>RedisSerializer.json()</code>，适用于以 JSON 格式存储对象的场景。</p><h2 id="javascanredistemplate" tabindex="-1">JavaScanRedisTemplate <a class="header-anchor" href="#javascanredistemplate" aria-label="Permalink to &quot;JavaScanRedisTemplate&quot;">​</a></h2><p><code>io.github.pangju666.framework.data.redis.core.JavaScanRedisTemplate</code></p><p>在<code>ScanRedisTemplate</code>基础上，预设值和哈希值的序列化器为<code>RedisSerializer.java()</code>，适用于需要以 JDK 序列化存储对象的场景。</p>`,35)])])}const y=i(n,[["render",l]]);export{g as __pageData,y as default};
