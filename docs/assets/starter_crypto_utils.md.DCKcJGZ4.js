import{_ as i,c as t,o as a,ag as n}from"./chunks/framework.XA8aHGu3.js";const y=JSON.parse('{"title":"工具类","description":"","frontmatter":{"layout":"doc"},"headers":[],"relativePath":"starter/crypto/utils.md","filePath":"starter/crypto/utils.md","lastUpdated":1764565110000}'),e={name:"starter/crypto/utils.md"};function l(p,s,h,k,r,d){return a(),t("div",null,[...s[0]||(s[0]=[n(`<h1 id="工具类" tabindex="-1">工具类 <a class="header-anchor" href="#工具类" aria-label="Permalink to &quot;工具类&quot;">​</a></h1><p><code>io.github.pangju666.framework.boot.crypto.utils.CryptoUtils</code></p><h2 id="概述" tabindex="-1">概述 <a class="header-anchor" href="#概述" aria-label="Permalink to &quot;概述&quot;">​</a></h2><p>提供对字节数组、字符串、<code>BigInteger</code>、<code>BigDecimal</code> 等类型的通用加/解密能力，并封装了常见编码（<code>Base64</code>、<code>Hex</code>）及密钥占位符解析（如<code>\${...}</code>）的辅助逻辑。</p><table tabindex="0"><thead><tr><th>方法名</th><th style="text-align:left;">返回值</th><th style="text-align:center;">用途</th></tr></thead><tbody><tr><td>encrypt</td><td style="text-align:left;">byte[]</td><td style="text-align:center;">加密字节数组</td></tr><tr><td>decrypt</td><td style="text-align:left;">byte[]</td><td style="text-align:center;">解密字节数组</td></tr><tr><td>encryptString</td><td style="text-align:left;">String</td><td style="text-align:center;">加密字符串并按指定编码输出</td></tr><tr><td>decryptString</td><td style="text-align:left;">String</td><td style="text-align:center;">解密字符串（先按指定编码解码，再进行解密）</td></tr><tr><td>encryptBigInteger</td><td style="text-align:left;">BigInteger</td><td style="text-align:center;">加密大整数</td></tr><tr><td>decryptBigInteger</td><td style="text-align:left;">BigInteger</td><td style="text-align:center;">解密大整数</td></tr><tr><td>encryptBigDecimal</td><td style="text-align:left;">BigDecimal</td><td style="text-align:center;">加密高精度小数</td></tr><tr><td>decryptBigDecimal</td><td style="text-align:left;">BigDecimal</td><td style="text-align:center;">解密高精度小数</td></tr><tr><td>getKey</td><td style="text-align:left;">String</td><td style="text-align:center;">解析密钥字符串，支持明文密钥与占位符密钥。占位符形如 \${crypto.key}；明文密钥直接返回入参。</td></tr></tbody></table><h2 id="加-解密示例" tabindex="-1">加/解密示例 <a class="header-anchor" href="#加-解密示例" aria-label="Permalink to &quot;加/解密示例&quot;">​</a></h2><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CryptoFactory cryptoFactory </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CryptoAlgorithm.AES256.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getFactory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 返回AES256CryptoFactory实例对象</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">byte</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] rawData;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">byte</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] encryptBytes </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CryptoUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">encrypt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cryptoFactory, rawData, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;123456&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">byte</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] decryptBytes </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CryptoUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">decrypt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cryptoFactory, encryptBytes, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;123456&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">String rawText;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 加密文本并使用 Base64 URL安全编码</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">String encryptText </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CryptoUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">encryptString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cryptoFactory, rawText, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;123456&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Encoding.BASE64);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 先使用 Base64 解码，再解密文本</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">String decryptText </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CryptoUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">decryptString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cryptoFactory, encryptText, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;123456&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Encoding.BASE64);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BigInteger rawNumber;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BigInteger encryptNumber </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CryptoUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">encryptBigInteger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cryptoFactory, rawNumber, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;123456&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BigInteger decryptNumber </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CryptoUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">decryptBigInteger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cryptoFactory, encryptNumber, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;123456&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BigDecimal rawNumber;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BigDecimal encryptNumber </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CryptoUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">encryptBigInteger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cryptoFactory, rawNumber, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;123456&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BigDecimal decryptNumber </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CryptoUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">decryptBigInteger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cryptoFactory, encryptNumber, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;123456&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h2 id="获取密钥" tabindex="-1">获取密钥 <a class="header-anchor" href="#获取密钥" aria-label="Permalink to &quot;获取密钥&quot;">​</a></h2><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 如果密钥为 null、空白则抛出 IllegalArgumentException</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">String key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CryptoUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;123456&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 直接返回明文</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 如果密钥为 null、空白或无法从 Spring 配置中获取则抛出 IllegalArgumentException</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">String key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CryptoUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;\${crypto.key}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 根据属性路径 crypto.key，从Spring配置中获取</span></span></code></pre></div>`,9)])])}const g=i(e,[["render",l]]);export{y as __pageData,g as default};
