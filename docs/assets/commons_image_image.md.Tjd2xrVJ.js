import{_ as a,c as t,o as h,ag as n}from"./chunks/framework.XA8aHGu3.js";const s="/pangju-java-doc/test.png",l="/pangju-java-doc/thumbnail.png",e="/pangju-java-doc/grayscale.png",k="/pangju-java-doc/contrast.png",p="/pangju-java-doc/brightness.png",c=JSON.parse('{"title":"图像","description":"","frontmatter":{"layout":"doc"},"headers":[],"relativePath":"commons/image/image.md","filePath":"commons/image/image.md","lastUpdated":null}'),E={name:"commons/image/image.md"};function d(r,i,g,y,F,u){return h(),t("div",null,[...i[0]||(i[0]=[n(`<h1 id="图像" tabindex="-1">图像 <a class="header-anchor" href="#图像" aria-label="Permalink to &quot;图像&quot;">​</a></h1><h2 id="图像尺寸" tabindex="-1">图像尺寸 <a class="header-anchor" href="#图像尺寸" aria-label="Permalink to &quot;图像尺寸&quot;">​</a></h2><p><code>io.github.pangju666.commons.image.model.ImageSize</code></p><h3 id="根据宽度计算缩放后的尺寸" tabindex="-1">根据宽度计算缩放后的尺寸 <a class="header-anchor" href="#根据宽度计算缩放后的尺寸" aria-label="Permalink to &quot;根据宽度计算缩放后的尺寸&quot;">​</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageSize size </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ImageSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1920</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1080</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageSize scaleSize </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> size.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scaleByWidth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 500 281</span></span></code></pre></div><h3 id="根据高度计算缩放后的尺寸" tabindex="-1">根据高度计算缩放后的尺寸 <a class="header-anchor" href="#根据高度计算缩放后的尺寸" aria-label="Permalink to &quot;根据高度计算缩放后的尺寸&quot;">​</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageSize size </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ImageSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1920</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1080</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageSize scaleSize </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> size.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scaleByHeight</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 888 500</span></span></code></pre></div><h3 id="等比计算缩放后的尺寸" tabindex="-1">等比计算缩放后的尺寸 <a class="header-anchor" href="#等比计算缩放后的尺寸" aria-label="Permalink to &quot;等比计算缩放后的尺寸&quot;">​</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 宽度大于高度则按宽度计算</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageSize size </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ImageSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1920</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1080</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageSize scaleSize </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> size.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 500 281</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 高度大于宽度则按宽度计算</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageSize size2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ImageSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageSize scaleSize2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> size.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">400</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 300 500</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 如果目标高度大于原始高度，则根据宽度计算</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageSize size3 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ImageSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">400</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageSize scaleSize3 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> size.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">300</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">550</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 440 550</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 如果目标宽度大于原始高度，则根据高度计算</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageSize size4 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ImageSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">600</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageSize scaleSize4 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> size.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">700</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">300</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 360 300</span></span></code></pre></div><h2 id="图像信息" tabindex="-1">图像信息 <a class="header-anchor" href="#图像信息" aria-label="Permalink to &quot;图像信息&quot;">​</a></h2><p><code>io.github.pangju666.commons.image.uitls.ImageUtils</code></p><table tabindex="0"><thead><tr><th>方法名</th><th style="text-align:left;">返回值</th><th style="text-align:center;">用途</th></tr></thead><tbody><tr><td>isSupportReadType</td><td style="text-align:left;">boolean</td><td style="text-align:center;">检查图像类型是否支持读取</td></tr><tr><td>isSupportWriteType</td><td style="text-align:left;">boolean</td><td style="text-align:center;">检查图像类型是否支持写入</td></tr><tr><td>isSameType</td><td style="text-align:left;">boolean</td><td style="text-align:center;">判断图像类型是否与指定MIME类型匹配</td></tr><tr><td>getMimeType</td><td style="text-align:left;">String</td><td style="text-align:center;">获取图像类型</td></tr><tr><td>getSize</td><td style="text-align:left;">ImageSize</td><td style="text-align:center;">获取图像尺寸</td></tr><tr><td>getExifOrientation</td><td style="text-align:left;">Integer</td><td style="text-align:center;">获取EXIF方向信息</td></tr></tbody></table><h3 id="检测类型是否支持读取" tabindex="-1">检测类型是否支持读取 <a class="header-anchor" href="#检测类型是否支持读取" aria-label="Permalink to &quot;检测类型是否支持读取&quot;">​</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 检测jpeg类型是否支持读取</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isSupportReadType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;image/jpeg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h3 id="检测类型是否支持写入" tabindex="-1">检测类型是否支持写入 <a class="header-anchor" href="#检测类型是否支持写入" aria-label="Permalink to &quot;检测类型是否支持写入&quot;">​</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 检测jpeg类型是否支持写入</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isSupportWriteType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;image/jpeg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h3 id="检测是否为相同类型图像" tabindex="-1">检测是否为相同类型图像 <a class="header-anchor" href="#检测是否为相同类型图像" aria-label="Permalink to &quot;检测是否为相同类型图像&quot;">​</a></h3><p>基于<code>ImageIO</code>实现</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">File file </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> File</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;image.jpg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isSameType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;image/jpeg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;image/jpg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isSameType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;image/jpeg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isSameType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(FileUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileToByteArray</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file), </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;image/jpeg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isSameType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(FileUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openInputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file), </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;image/jpeg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isSameType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ImageIO.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createImageInputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file), </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;image/jpeg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true</span></span></code></pre></div><h3 id="检测图像类型" tabindex="-1">检测图像类型 <a class="header-anchor" href="#检测图像类型" aria-label="Permalink to &quot;检测图像类型&quot;">​</a></h3><h4 id="根据图像检测" tabindex="-1">根据图像检测 <a class="header-anchor" href="#根据图像检测" aria-label="Permalink to &quot;根据图像检测&quot;">​</a></h4><p>基于<code>ImageIO</code>实现</p><p>只能检测出<code>ImageIO</code>支持的类型，如果单纯获取图像类型，建议使用<code>FileUtils.getMimeType</code></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">File file </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> File</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;image.jpg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getMimeType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;image/jpeg&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getMimeType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(FileUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileToByteArray</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;image/jpeg&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getMimeType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(FileUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openInputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//&quot;image/jpeg&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getMimeType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ImageIO.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createImageInputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;image/jpeg&quot;</span></span></code></pre></div><h4 id="根据元数据检测" tabindex="-1">根据元数据检测 <a class="header-anchor" href="#根据元数据检测" aria-label="Permalink to &quot;根据元数据检测&quot;">​</a></h4><p>基于<code>metadata-extractor</code>实现，如果解析失败则返回<code>null</code></p><p>metadata-extractor支持的格式有限，而且不是所有图像都有<strong>元数据</strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">File file </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> File</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;image.jpg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Metadata metadata </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ImageMetadataReader.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readMetadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getMimeType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(metadata); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;image/jpeg&quot;</span></span></code></pre></div><h3 id="获取图像尺寸" tabindex="-1">获取图像尺寸 <a class="header-anchor" href="#获取图像尺寸" aria-label="Permalink to &quot;获取图像尺寸&quot;">​</a></h3><p>基于<code>ImageIO</code>和<code>metadata-extractor</code>实现，如果解析失败则返回<code>null</code></p><p>处理流程：</p><ol><li>尝试使用<code>metadata-extractor</code>获取元数据中的图像宽高信息</li><li>使用<code>metadata-extractor</code>解析图像Exif方向，如果不存在则将反向定义为默认方向</li><li>如果元数据中存在图像宽高信息，则根据图像Exif方向决定是否交换图像宽高</li><li>尝试使用<code>ImageIO</code>解析图像获取图像宽高信息，并根据图像Exif方向决定是否交换图像宽高</li><li>如果还是无法获取图像宽高信息，则返回<code>null</code></li></ol><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">File file </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> File</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;image.jpg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 如果传入false，则只使用ImageIO来获取图像宽高信息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(FileUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileToByteArray</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file));</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 如果传入false，则只使用ImageIO来获取图像宽高信息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(FileUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileToByteArray</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file), </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(FileUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openInputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file));</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 如果传入false，则只使用ImageIO来获取图像宽高信息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(FileUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openInputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file), </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 只使用ImageIO获取图像宽高信息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getMimeType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ImageIO.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createImageInputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 只使用metadata-extractor获取图像宽高信息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Metadata metadata </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ImageMetadataReader.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readMetadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getMimeType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(metadata);</span></span></code></pre></div><h3 id="获取图像exif方向" tabindex="-1">获取图像Exif方向 <a class="header-anchor" href="#获取图像exif方向" aria-label="Permalink to &quot;获取图像Exif方向&quot;">​</a></h3><p>基于<code>metadata-extractor</code>实现，如果解析失败则返回<code>null</code></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">File file </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> File</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;image.jpg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getExifOrientation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getExifOrientation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(FileUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileToByteArray</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getExifOrientation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(FileUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openInputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Metadata metadata </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ImageMetadataReader.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readMetadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getExifOrientation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(metadata);</span></span></code></pre></div><h2 id="缩略图" tabindex="-1">缩略图 <a class="header-anchor" href="#缩略图" aria-label="Permalink to &quot;缩略图&quot;">​</a></h2><p><code>io.github.pangju666.commons.image.utils.ThumbnailUtils</code></p><p>基于<code>twelvemonkeys</code>的<code>ResampleOp</code>实现</p><p>速度和质量都挺不错的，纯Java实现里我觉得这个是最好用的</p><table tabindex="0"><thead><tr><th>方法名</th><th style="text-align:left;">返回值</th><th style="text-align:center;">用途</th></tr></thead><tbody><tr><td>forceScale</td><td style="text-align:left;">boolean/BufferedImage</td><td style="text-align:center;">强制缩放图像到指定尺寸</td></tr><tr><td>scaleByHeight</td><td style="text-align:left;">boolean/BufferedImage</td><td style="text-align:center;">根据高度等比缩放图像</td></tr><tr><td>scaleByWidth</td><td style="text-align:left;">boolean/BufferedImage</td><td style="text-align:center;">根据宽度等比缩放图像</td></tr><tr><td>scale</td><td style="text-align:left;">boolean/BufferedImage</td><td style="text-align:center;">根据高度或宽度等比缩放图像</td></tr></tbody></table><p>原始图片： <img src="`+s+'" alt="原始图片"></p><p>缩略图： <img src="'+l+`" alt="缩略图"></p><h3 id="强制缩放" tabindex="-1">强制缩放 <a class="header-anchor" href="#强制缩放" aria-label="Permalink to &quot;强制缩放&quot;">​</a></h3><p>强制缩放至指定该尺寸，不考虑原始长宽比，可能会导致图像变形</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">File file </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> File</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;image.jpg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BufferedImage bufferedImage </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ImageIO.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">File outputFile </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> File</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;thumbnail.jpg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 输出图片格式只能是ImageIO支持的格式（如&quot;PNG&quot;,&quot;JPEG&quot;）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ThumbnailUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forceScale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, FileUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openOutputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(outputFile), </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ImageSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;JPEG&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 成功返回true，否则为false</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 可以指定重采样给滤波器类型，默认为ResampleOp.FILTER_TRIANGLE</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ThumbnailUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forceScale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, FileUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openOutputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(outputFile), </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ImageSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;JPEG&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ResampleOp.FILTER_TRIANGLE); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 成功返回true，否则为false</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ThumbnailUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forceScale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, outputFile, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ImageSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 成功返回true，否则为false </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ThumbnailUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forceScale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, outputFile, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ImageSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;JPEG&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 成功返回true，否则为false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ThumbnailUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forceScale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, outputFile, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ImageSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), ResampleOp.FILTER_TRIANGLE); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 成功返回true，否则为false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ThumbnailUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forceScale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, outputFile, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ImageSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;JPEG&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ResampleOp.FILTER_TRIANGLE); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 成功返回true，否则为false</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 不传入输出文件，则返回BufferedImage</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ThumbnailUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forceScale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ImageSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// BufferedImage</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ThumbnailUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forceScale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ImageSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), ResampleOp.FILTER_TRIANGLE); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// BufferedImage</span></span></code></pre></div><h3 id="根据宽度缩放" tabindex="-1">根据宽度缩放 <a class="header-anchor" href="#根据宽度缩放" aria-label="Permalink to &quot;根据宽度缩放&quot;">​</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">File file </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> File</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;image.jpg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BufferedImage bufferedImage </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ImageIO.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">File outputFile </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> File</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;thumbnail.jpg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 输出图片格式只能是ImageIO支持的格式（如&quot;PNG&quot;,&quot;JPEG&quot;）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ThumbnailUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scaleByWidth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, FileUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openOutputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(outputFile), </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;JPEG&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 成功返回true，否则为false</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 可以指定重采样给滤波器类型，默认为ResampleOp.FILTER_TRIANGLE</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ThumbnailUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scaleByWidth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, FileUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openOutputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(outputFile), </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;JPEG&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ResampleOp.FILTER_TRIANGLE); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 成功返回true，否则为false</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ThumbnailUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scaleByWidth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, outputFile, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 成功返回true，否则为false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ThumbnailUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scaleByWidth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, outputFile, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;JPEG&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 成功返回true，否则为false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ThumbnailUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scaleByWidth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, outputFile, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ResampleOp.FILTER_TRIANGLE); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 成功返回true，否则为false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ThumbnailUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scaleByWidth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, outputFile, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;JPEG&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ResampleOp.FILTER_TRIANGLE); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 成功返回true，否则为false</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 不传入输出文件，则返回BufferedImage</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ThumbnailUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scaleByWidth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// BufferedImage </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ThumbnailUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scaleByWidth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ResampleOp.FILTER_TRIANGLE); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// BufferedImage</span></span></code></pre></div><h3 id="根据高度缩放" tabindex="-1">根据高度缩放 <a class="header-anchor" href="#根据高度缩放" aria-label="Permalink to &quot;根据高度缩放&quot;">​</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">File file </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> File</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;image.jpg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BufferedImage bufferedImage </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ImageIO.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">File outputFile </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> File</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;thumbnail.jpg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 输出图片格式只能是ImageIO支持的格式（如&quot;PNG&quot;,&quot;JPEG&quot;）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ThumbnailUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scaleByHeight</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, FileUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openOutputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(outputFile), </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;JPEG&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 成功返回true，否则为false</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 可以指定重采样给滤波器类型，默认为ResampleOp.FILTER_TRIANGLE</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ThumbnailUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scaleByHeight</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, FileUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openOutputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(outputFile), </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;JPEG&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ResampleOp.FILTER_TRIANGLE); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 成功返回true，否则为false</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ThumbnailUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scaleByHeight</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, outputFile, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 成功返回true，否则为false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ThumbnailUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scaleByHeight</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, outputFile, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;JPEG&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 成功返回true，否则为false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ThumbnailUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scaleByHeight</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, outputFile, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ResampleOp.FILTER_TRIANGLE); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 成功返回true，否则为false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ThumbnailUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scaleByHeight</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, outputFile, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;JPEG&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ResampleOp.FILTER_TRIANGLE); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 成功返回true，否则为false</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 不传入输出文件，则返回BufferedImage</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ThumbnailUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scaleByHeight</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// BufferedImage</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ThumbnailUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scaleByHeight</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ResampleOp.FILTER_TRIANGLE); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// BufferedImage</span></span></code></pre></div><h3 id="根据宽高或高度缩放" tabindex="-1">根据宽高或高度缩放 <a class="header-anchor" href="#根据宽高或高度缩放" aria-label="Permalink to &quot;根据宽高或高度缩放&quot;">​</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">File file </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> File</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;image.jpg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BufferedImage bufferedImage </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ImageIO.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">File outputFile </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> File</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;thumbnail.jpg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 输出图片格式只能是ImageIO支持的格式（如&quot;PNG&quot;,&quot;JPEG&quot;）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ThumbnailUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, FileUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openOutputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(outputFile), </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ImageSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;JPEG&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 成功返回true，否则为false</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 可以指定重采样给滤波器类型，默认为ResampleOp.FILTER_TRIANGLE</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ThumbnailUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, FileUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openOutputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(outputFile), </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ImageSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;JPEG&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ResampleOp.FILTER_TRIANGLE); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 成功返回true，否则为false</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ThumbnailUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, outputFile, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ImageSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 成功返回true，否则为false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ThumbnailUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, outputFile, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ImageSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;JPEG&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 成功返回true，否则为false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ThumbnailUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, outputFile, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ImageSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), ResampleOp.FILTER_TRIANGLE); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 成功返回true，否则为false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ThumbnailUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, outputFile, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ImageSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;JPEG&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ResampleOp.FILTER_TRIANGLE); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 成功返回true，否则为false</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 不传入输出文件，则返回BufferedImage</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ThumbnailUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ImageSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// BufferedImage</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ThumbnailUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ImageSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), ResampleOp.FILTER_TRIANGLE); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// BufferedImage</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 直接传入BufferedImage作为输出目标</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BufferedImage outputBufferedImage </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BufferedImage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, BufferedImage.TYPE_INT_RGB);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ThumbnailUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, outputBufferedImage);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ThumbnailUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, outputBufferedImage, ResampleOp.FILTER_TRIANGLE);</span></span></code></pre></div><h2 id="滤镜处理" tabindex="-1">滤镜处理 <a class="header-anchor" href="#滤镜处理" aria-label="Permalink to &quot;滤镜处理&quot;">​</a></h2><p><code>io.github.pangju666.commons.image.utils.ImageFilterUtils</code></p><p>基于<code>twelvemonkeys</code>实现</p><p>我只封装了调整亮度，调整对比度和灰度化</p><table tabindex="0"><thead><tr><th>方法名</th><th style="text-align:left;">返回值</th><th style="text-align:center;">用途</th></tr></thead><tbody><tr><td>grayscale</td><td style="text-align:left;">void/BufferedImage</td><td style="text-align:center;">将图像灰度化</td></tr><tr><td>contrast</td><td style="text-align:left;">void/BufferedImage</td><td style="text-align:center;">增加图像对比度</td></tr><tr><td>brightness</td><td style="text-align:left;">void/BufferedImage</td><td style="text-align:center;">增加图像亮度</td></tr><tr><td>filter</td><td style="text-align:left;">void/BufferedImage</td><td style="text-align:center;">应用图像滤镜</td></tr></tbody></table><h3 id="灰度化" tabindex="-1">灰度化 <a class="header-anchor" href="#灰度化" aria-label="Permalink to &quot;灰度化&quot;">​</a></h3><p>原始图片： <img src="`+s+'" alt="原始图片"></p><p>缩略图： <img src="'+e+`" alt="缩略图"></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">File file </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> File</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;image.jpg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BufferedImage bufferedImage </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ImageIO.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">File outputFile </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> File</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;grayscale.jpg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 输出图片格式只能是ImageIO支持的格式（如&quot;PNG&quot;,&quot;JPEG&quot;）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageFilterUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">grayscale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, FileUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openOutputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(outputFile), </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;JPEG&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageFilterUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">grayscale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, outputFile);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageFilterUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">grayscale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, outputFile, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;JPEG&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 不传入输出文件，则返回BufferedImage</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageFilterUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">grayscale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// BufferedImage</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageFilterUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">grayscale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, BufferedImage.TYPE_INT_RGB); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// BufferedImage</span></span></code></pre></div><h3 id="图像对比度" tabindex="-1">图像对比度 <a class="header-anchor" href="#图像对比度" aria-label="Permalink to &quot;图像对比度&quot;">​</a></h3><p>原始图片： <img src="`+s+'" alt="原始图片"></p><p>缩略图： <img src="'+k+`" alt="缩略图"></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">File file </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> File</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;image.jpg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BufferedImage bufferedImage </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ImageIO.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">File outputFile </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> File</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;contrast.jpg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 输出图片格式只能是ImageIO支持的格式（如&quot;PNG&quot;,&quot;JPEG&quot;）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageFilterUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">contrast</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, FileUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openOutputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(outputFile), </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;JPEG&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageFilterUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">contrast</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, outputFile);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageFilterUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">contrast</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, outputFile, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;JPEG&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 不传入输出文件，则返回BufferedImage</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageFilterUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">contrast</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// BufferedImage</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageFilterUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">contrast</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, BufferedImage.TYPE_INT_RGB); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// BufferedImage</span></span></code></pre></div><h3 id="图像亮度" tabindex="-1">图像亮度 <a class="header-anchor" href="#图像亮度" aria-label="Permalink to &quot;图像亮度&quot;">​</a></h3><p>原始图片： <img src="`+s+'" alt="原始图片"></p><p>缩略图： <img src="'+p+`" alt="缩略图"></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">File file </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> File</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;image.jpg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BufferedImage bufferedImage </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ImageIO.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">File outputFile </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> File</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;brightness.jpg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 输出图片格式只能是ImageIO支持的格式（如&quot;PNG&quot;,&quot;JPEG&quot;）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageFilterUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">brightness</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, FileUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openOutputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(outputFile), </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;JPEG&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageFilterUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">brightness</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, outputFile);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageFilterUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">brightness</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, outputFile, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;JPEG&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 不传入输出文件，则返回BufferedImage</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageFilterUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">brightness</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// BufferedImage</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageFilterUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">brightness</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, BufferedImage.TYPE_INT_RGB); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// BufferedImage</span></span></code></pre></div><h3 id="图像滤镜" tabindex="-1">图像滤镜 <a class="header-anchor" href="#图像滤镜" aria-label="Permalink to &quot;图像滤镜&quot;">​</a></h3><p>可以传入自定义的<code>ImageFilter</code>接口实现或<code>twelvemonkeys</code>内置的滤镜来实现一些自定义滤镜处理</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">File file </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> File</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;image.jpg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BufferedImage bufferedImage </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ImageIO.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">File outputFile </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> File</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;brightness.jpg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 输出图片格式只能是ImageIO支持的格式（如&quot;PNG&quot;,&quot;JPEG&quot;）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageFilterUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> GrayFilter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), FileUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openOutputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(outputFile), </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;JPEG&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageFilterUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> GrayFilter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), outputFile);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageFilterUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> GrayFilter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), outputFile, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;JPEG&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 不传入输出文件，则返回BufferedImage</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageFilterUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> GrayFilter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// BufferedImage</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImageFilterUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferedImage, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> GrayFilter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), BufferedImage.TYPE_INT_RGB); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// BufferedImage</span></span></code></pre></div>`,72)])])}const m=a(E,[["render",d]]);export{c as __pageData,m as default};
