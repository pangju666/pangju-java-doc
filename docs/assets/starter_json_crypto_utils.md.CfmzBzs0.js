import{_ as s,c as t,o as i,ag as e}from"./chunks/framework.XA8aHGu3.js";const k=JSON.parse('{"title":"加密工厂注册与缓存","description":"","frontmatter":{"layout":"doc"},"headers":[],"relativePath":"starter/json/crypto/utils.md","filePath":"starter/json/crypto/utils.md","lastUpdated":1764408126000}'),r={name:"starter/json/crypto/utils.md"};function n(p,a,o,l,h,c){return i(),t("div",null,[...a[0]||(a[0]=[e(`<h1 id="加密工厂注册与缓存" tabindex="-1">加密工厂注册与缓存 <a class="header-anchor" href="#加密工厂注册与缓存" aria-label="Permalink to &quot;加密工厂注册与缓存&quot;">​</a></h1><p><code>io.github.pangju666.framework.boot.jackson.utils.CryptoFactoryRegistry</code></p><p>用于在初始化<a href="/pangju-java-doc/starter/json/crypto/encrypt.html">加密序列化器</a>和<a href="/pangju-java-doc/starter/json/crypto/decrypt.html">解密反序列化器</a>时获取对应的加密工厂实例。</p><div class="note custom-block github-alert"><p class="custom-block-title">NOTE</p><p>主要用途就是如果无法从<code>Spring</code>获取到对应的加密算法工厂<code>Bean</code>，也能显式构造一个实例作为兜底。</p><p>如果你想实现自己的<code>Jackson</code>加解密操作，那这个类你会用的上的。</p></div><h2 id="获取加密工厂" tabindex="-1">获取加密工厂 <a class="header-anchor" href="#获取加密工厂" aria-label="Permalink to &quot;获取加密工厂&quot;">​</a></h2><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 先尝试从Spring获取，如果失败则尝试使用无参构造方法构建实例</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CryptoFactory cryptoFactory </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CryptoFactoryRegistry.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getOrCreate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(AES256CryptoFactory.class);</span></span></code></pre></div><h2 id="注册加密工厂" tabindex="-1">注册加密工厂 <a class="header-anchor" href="#注册加密工厂" aria-label="Permalink to &quot;注册加密工厂&quot;">​</a></h2><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CryptoFactoryRegistry.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">register</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CustomCryptoFactory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 获取注册过的实例</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CryptoFactory cryptoFactory </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CryptoFactoryRegistry.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getOrCreate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(CustomCryptoFactory.class);</span></span></code></pre></div>`,8)])])}const y=s(r,[["render",n]]);export{k as __pageData,y as default};
