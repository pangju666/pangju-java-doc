import{_ as n,c as e,o as l,ag as a,j as s,a as t}from"./chunks/framework.XA8aHGu3.js";const c=JSON.parse('{"title":"异常","description":"","frontmatter":{"layout":"doc"},"headers":[],"relativePath":"framework/web/exception.md","filePath":"framework/web/exception.md","lastUpdated":1762360256000}'),p={name:"framework/web/exception.md"};function h(k,i,r,d,o,E){return l(),e("div",null,[...i[0]||(i[0]=[a(`<h1 id="异常" tabindex="-1">异常 <a class="header-anchor" href="#异常" aria-label="Permalink to &quot;异常&quot;">​</a></h1><p>异常体系其实我构思了很久，最后才决定按这个结构去写，实在是又想要灵活性高，又想统一结构有点头疼。</p><div class="important custom-block github-alert"><p class="custom-block-title">IMPORTANT</p><p>需要搭配<a href="/pangju-java-doc/framework/web/response.html#处理http异常">Http响应构建器</a>使用。</p></div><h2 id="核心" tabindex="-1">核心 <a class="header-anchor" href="#核心" aria-label="Permalink to &quot;核心&quot;">​</a></h2><p>整个异常体系的核心由<code>BaseHttpException</code>类和<code>HttpException</code>注解组成。</p><p><code>BaseHttpException</code>决定了异常的日志打印规则和接口响应消息（message）。</p><p><code>HttpException</code>决定了接口响应时异常的错误码、类型、是否打印日志、日志打印等级和Http响应状态码。</p><p>错误码计算规则：</p><ul><li>最终错误码 = -(基础错误码 + |异常错误码|)</li><li>基础错误码来自<code>HttpExceptionType</code>枚举值</li><li>异常错误码大于1000时，仅保留后三位（如1234变为234）</li><li>使用负数表示错误状态</li></ul><h3 id="异常基类" tabindex="-1">异常基类 <a class="header-anchor" href="#异常基类" aria-label="Permalink to &quot;异常基类&quot;">​</a></h3><p><code>io.github.pangju666.framework.web.exception.base.BaseHttpException</code></p><p>这是整个异常体系的基类，基于<code>org.springframework.core.NestedRuntimeException</code>开发，我在其基础上增加了<code>reason</code>属性和日志打印（ <code>log</code>）方法。</p><p>不同于普通异常，接口响应时返回的错误消息是异常的<code>message</code>值，而打印到日志里的是<code>reason</code>。</p><p>示例：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ServerException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;文件读取失败&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;读取xxxxx文件失败，文件可能并不存在&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 接口响应：{&quot;code&quot;: -1000, &quot;message&quot;: &quot;文件读取失败&quot;, &quot;data&quot;: null}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 日志打印：原因：读取xxxxx文件失败，文件可能并不存在</span></span></code></pre></div><h3 id="异常类型" tabindex="-1">异常类型 <a class="header-anchor" href="#异常类型" aria-label="Permalink to &quot;异常类型&quot;">​</a></h3><p><code>io.github.pangju666.framework.web.enums.HttpExceptionType</code></p><table tabindex="0"><thead><tr><th>枚举值</th><th style="text-align:left;">基础错误码</th><th style="text-align:center;">异常类型描述</th><th style="text-align:center;">说明</th></tr></thead><tbody><tr><td>SERVER</td><td style="text-align:left;">5000</td><td style="text-align:center;">服务器内部错误</td><td style="text-align:center;">用于表示系统运行时发生的内部错误</td></tr><tr><td>SERVICE</td><td style="text-align:left;">1000</td><td style="text-align:center;">业务逻辑错误</td><td style="text-align:center;">用于表示业务处理过程中的错误</td></tr><tr><td>DATA_OPERATION</td><td style="text-align:left;">2000</td><td style="text-align:center;">数据操作错误</td><td style="text-align:center;">用于表示数据操作相关的错误</td></tr><tr><td>AUTHENTICATION</td><td style="text-align:left;">3000</td><td style="text-align:center;">认证授权错误</td><td style="text-align:center;">用于表示用户认证和授权相关的错误</td></tr><tr><td>VALIDATION</td><td style="text-align:left;">4000</td><td style="text-align:center;">参数校验错误</td><td style="text-align:center;">用于表示请求参数验证相关的错误</td></tr><tr><td>CUSTOM</td><td style="text-align:left;">6000</td><td style="text-align:center;">自定义错误</td><td style="text-align:center;">用于处理特定业务场景的自定义异常</td></tr><tr><td>UNKNOWN</td><td style="text-align:left;">0</td><td style="text-align:center;">未知错误</td><td style="text-align:center;">框架内部使用的异常类型，用于处理未标注<code>HttpException</code>注解的异常类</td></tr></tbody></table><h3 id="异常注解" tabindex="-1">异常注解 <a class="header-anchor" href="#异常注解" aria-label="Permalink to &quot;异常注解&quot;">​</a></h3><p><code>io.github.pangju666.framework.web.annotation.HttpException</code></p><p>每个继承自<code>BaseHttpException</code>的异常建议都加上这个注解，如果不加的话会被作为未知错误处理。</p><p>属性：</p><ul><li>code: 异常配置码（与异常类型基础码组合生成最终错误码）。</li><li>type: 异常类型（用于分类异常，提供对应的基础错误码，默认为<code>HttpExceptionType.CUSTOM</code>）。</li><li>description: 异常概述（用于简要描述异常的具体含义，默认为异常类型的概述）。</li><li>log: 是否记录日志（控制是否记录该异常的日志信息，默认为<code>true</code>，对于一些预期内的业务异常，可以设置为<code>false</code>以减少日志量）。</li><li>level: 日志等级（设置该异常的日志等级，默认为<code>Level.ERROR</code>）。</li><li>status: HTTP响应状态码（指定抛出此异常时返回的HTTP状态码，默认为<code>HttpStatus.OK</code>）。</li></ul><h3 id="异常处理" tabindex="-1">异常处理 <a class="header-anchor" href="#异常处理" aria-label="Permalink to &quot;异常处理&quot;">​</a></h3><p>需要定义异常处理器来确保可以自动的处理抛出的Http异常。</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">RestControllerAdvice</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> GlobalDataExceptionAdvice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ExceptionHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> BaseHttpException.class)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleBaseHttpException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(BaseHttpException </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, HttpServletResponse </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">response</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		HttpResponseBuilder.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fromResponse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(response).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">buffer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">writeHttpException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="内置异常" tabindex="-1">内置异常 <a class="header-anchor" href="#内置异常" aria-label="Permalink to &quot;内置异常&quot;">​</a></h2><table tabindex="0"><thead><tr><th>异常类</th><th style="text-align:center;">概述</th><th style="text-align:center;">code码</th><th style="text-align:center;">响应状态码</th><th style="text-align:center;">类型</th><th style="text-align:center;">打印日志</th></tr></thead><tbody><tr><td>ServerException</td><td style="text-align:center;">服务器内部错误</td><td style="text-align:center;">-5000</td><td style="text-align:center;">500</td><td style="text-align:center;">服务器内部错误</td><td style="text-align:center;">是</td></tr><tr><td>ServiceException</td><td style="text-align:center;">业务逻辑错误</td><td style="text-align:center;">-1000</td><td style="text-align:center;">200</td><td style="text-align:center;">业务逻辑错误</td><td style="text-align:center;">是</td></tr><tr><td>HttpRemoteServiceException</td><td style="text-align:center;">Http远程服务错误</td><td style="text-align:center;">-1100</td><td style="text-align:center;">200</td><td style="text-align:center;">业务逻辑错误</td><td style="text-align:center;">是</td></tr><tr><td>HttpRemoteServiceTimeoutException</td><td style="text-align:center;">Http远程服务超时错误</td><td style="text-align:center;">-1110</td><td style="text-align:center;">200</td><td style="text-align:center;">业务逻辑错误</td><td style="text-align:center;">是</td></tr><tr><td>AuthenticationException</td><td style="text-align:center;">认证授权错误</td><td style="text-align:center;">-3000</td><td style="text-align:center;">401</td><td style="text-align:center;">认证授权错误</td><td style="text-align:center;">是</td></tr><tr><td>AuthenticationExpireException</td><td style="text-align:center;">认证过期错误</td><td style="text-align:center;">-3100</td><td style="text-align:center;">401</td><td style="text-align:center;">认证授权错误</td><td style="text-align:center;">否</td></tr><tr><td>NoPermissionException</td><td style="text-align:center;">缺少权限错误</td><td style="text-align:center;">-3300</td><td style="text-align:center;">403</td><td style="text-align:center;">认证授权错误</td><td style="text-align:center;">否</td></tr><tr><td>NoRoleException</td><td style="text-align:center;">缺少角色错误</td><td style="text-align:center;">-3200</td><td style="text-align:center;">403</td><td style="text-align:center;">认证授权错误</td><td style="text-align:center;">否</td></tr><tr><td>DataOperationException</td><td style="text-align:center;">数据操作错误</td><td style="text-align:center;">-2000</td><td style="text-align:center;">200</td><td style="text-align:center;">数据操作错误</td><td style="text-align:center;">是</td></tr><tr><td>DataCreateException</td><td style="text-align:center;">数据创建错误</td><td style="text-align:center;">-2200</td><td style="text-align:center;">200</td><td style="text-align:center;">数据操作错误</td><td style="text-align:center;">是</td></tr><tr><td>DataQueryException</td><td style="text-align:center;">数据查询错误</td><td style="text-align:center;">-2100</td><td style="text-align:center;">200</td><td style="text-align:center;">数据操作错误</td><td style="text-align:center;">是</td></tr><tr><td>DataRemoveException</td><td style="text-align:center;">数据删除错误</td><td style="text-align:center;">-2500</td><td style="text-align:center;">200</td><td style="text-align:center;">数据操作错误</td><td style="text-align:center;">是</td></tr><tr><td>DataSaveException</td><td style="text-align:center;">数据保存错误</td><td style="text-align:center;">-2400</td><td style="text-align:center;">200</td><td style="text-align:center;">数据操作错误</td><td style="text-align:center;">是</td></tr><tr><td>DataUpdateException</td><td style="text-align:center;">数据更新错误</td><td style="text-align:center;">-2300</td><td style="text-align:center;">200</td><td style="text-align:center;">数据操作错误</td><td style="text-align:center;">是</td></tr><tr><td>ValidationException</td><td style="text-align:center;">参数校验错误</td><td style="text-align:center;">-4000</td><td style="text-align:center;">400</td><td style="text-align:center;">参数校验错误</td><td style="text-align:center;">否</td></tr><tr><td>DataExistException</td><td style="text-align:center;">数据已存在错误</td><td style="text-align:center;">-4110</td><td style="text-align:center;">400</td><td style="text-align:center;">参数校验错误</td><td style="text-align:center;">否</td></tr><tr><td>DataNotExistException</td><td style="text-align:center;">数据不存在错误</td><td style="text-align:center;">-4120</td><td style="text-align:center;">400</td><td style="text-align:center;">参数校验错误</td><td style="text-align:center;">否</td></tr><tr><td>IdExistException</td><td style="text-align:center;">id已存在错误</td><td style="text-align:center;">-4210</td><td style="text-align:center;">400</td><td style="text-align:center;">参数校验错误</td><td style="text-align:center;">否</td></tr><tr><td>IdNotExistException</td><td style="text-align:center;">id不存在错误</td><td style="text-align:center;">-4220</td><td style="text-align:center;">400</td><td style="text-align:center;">参数校验错误</td><td style="text-align:center;">否</td></tr><tr><td>InvalidIdException</td><td style="text-align:center;">id格式不正确错误</td><td style="text-align:center;">-4230</td><td style="text-align:center;">400</td><td style="text-align:center;">参数校验错误</td><td style="text-align:center;">否</td></tr><tr><td>IdentifierExistException</td><td style="text-align:center;">标识符已存在错误</td><td style="text-align:center;">-4310</td><td style="text-align:center;">400</td><td style="text-align:center;">参数校验错误</td><td style="text-align:center;">否</td></tr><tr><td>IdentifierNotExistException</td><td style="text-align:center;">标识符不存在错误</td><td style="text-align:center;">-4320</td><td style="text-align:center;">400</td><td style="text-align:center;">参数校验错误</td><td style="text-align:center;">否</td></tr><tr><td>InvalidIdentifierException</td><td style="text-align:center;">标识符格式不正确错误</td><td style="text-align:center;">-4330</td><td style="text-align:center;">400</td><td style="text-align:center;">参数校验错误</td><td style="text-align:center;">否</td></tr></tbody></table><h3 id="基础异常" tabindex="-1">基础异常 <a class="header-anchor" href="#基础异常" aria-label="Permalink to &quot;基础异常&quot;">​</a></h3><p>基础异常是通用性没有具体错误场景的异常，可以通过继承它们来实现自己的业务异常，也可以直接使用这些基础异常。</p><div class="tip custom-block github-alert"><p class="custom-block-title">TIP</p><p>基础异常的错误码是固定的，如果需要自定义错误码，请继承它们定义自己的异常。</p></div><h4 id="服务器内部异常" tabindex="-1">服务器内部异常 <a class="header-anchor" href="#服务器内部异常" aria-label="Permalink to &quot;服务器内部异常&quot;">​</a></h4><p><code>io.github.pangju666.framework.web.exception.base.ServerException</code></p><p>所有服务端内部引起的错误。</p><p>特点：</p><ul><li>构建时只需要传入错误原因。</li><li>错误消息固定为：服务器内部错误。</li></ul><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 业务逻辑</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (IOException </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 定义错误原因和原始异常</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ServerException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;文件读取失败&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, e);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 接口响应：{&quot;code&quot;: -5000, &quot;message&quot;: &quot;服务器内部错误&quot;, &quot;data&quot;: null}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 日志打印：原因：文件读取失败</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="业务逻辑异常" tabindex="-1">业务逻辑异常 <a class="header-anchor" href="#业务逻辑异常" aria-label="Permalink to &quot;业务逻辑异常&quot;">​</a></h4><p><code>io.github.pangju666.framework.web.exception.base.ServiceException</code></p><p>业务逻辑产生的错误，比如：短信发送失败、订单提交失败、余额不足、支付失败等业务性错误。</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 定义错误消息和错误原因</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ServiceException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;余额不足&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;用户xxxxx的账户余额为：0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 接口响应：{&quot;code&quot;: -1000, &quot;message&quot;: &quot;余额不足&quot;, &quot;data&quot;: null}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 日志打印：原因：用户xxxxx的账户余额为：0</span></span></code></pre></div><h4 id="认证授权异常" tabindex="-1">认证授权异常 <a class="header-anchor" href="#认证授权异常" aria-label="Permalink to &quot;认证授权异常&quot;">​</a></h4><p><code>io.github.pangju666.framework.web.exception.base.AuthenticationException</code></p><p>认证授权产生的错误，比如：用户未登录，登录失败，密码错误等鉴权相关的错误。</p><p>特点：</p><ul><li>存在属性<code>userIdentifier</code>用于表示用户标识符。</li><li>构建时需要传入用户标识符，比如：用户名、用户id之类的。</li><li>日志打印格式：认证授权错误，用户标识：{userIdentifier}，原因：{reason}。</li><li>接口HTTP响应状态码为：401。</li></ul><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AuthenticationException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;登录已过期&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,         </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 错误消息</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;pangju666&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,            </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 用户标识（支持各种类型）</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;Token：xxxxxxxxxxxx 已过期&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 错误原因</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 接口响应：{&quot;code&quot;: -3000, &quot;message&quot;: &quot;登录已过期&quot;, &quot;data&quot;: null}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 日志打印：认证授权错误，用户标识：pangju666，原因：Token：xxxxxxxxxxxx 已过期</span></span></code></pre></div><h4 id="校验异常" tabindex="-1">校验异常 <a class="header-anchor" href="#校验异常" aria-label="Permalink to &quot;校验异常&quot;">​</a></h4><p><code>io.github.pangju666.framework.web.exception.base.ValidationException</code></p><p>参数校验产生的错误，比如：用户id不存在，用户名不存在、Token格式不正确等校验性错误。</p><p>特点：</p><ul><li>构建时只需要传入错误消息。</li><li>不打印日志。</li><li>接口HTTP响应状态码为：400。</li></ul><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 定义错误消息</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ValidationException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;用户名不能为空&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 接口响应：{&quot;code&quot;: -4000, &quot;message&quot;: &quot;用户名不能为空&quot;, &quot;data&quot;: null}</span></span></code></pre></div><h4 id="数据操作异常" tabindex="-1">数据操作异常 <a class="header-anchor" href="#数据操作异常" aria-label="Permalink to &quot;数据操作异常&quot;">​</a></h4><p><code>io.github.pangju666.framework.web.exception.base.DataOperationException</code></p><p><code>io.github.pangju666.framework.web.model.error.DataOperationError</code></p><p>操作数据产生的错误，比如：数据查询失败、删除失败、添加失败等数据操作错误。</p><p>特点：</p><ul><li>存在属性<code>operation</code>表示操作类型。</li><li>存在属性<code>error</code>表示操作错误的详细信息。</li><li>日志打印格式：数据操作错误，来源：{error.source}，操作：{operation}，数据描述：{error.description}，数据值：{error.data}，原因：{reason}。</li></ul><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 无操作错误信息</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DataOperationException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;删除&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,          </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 操作类型</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;删除用户失败&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 错误消息</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;记录不存在&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // 错误原因</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 接口响应：{&quot;code&quot;: -2000, &quot;message&quot;: &quot;删除用户失败&quot;, &quot;data&quot;: null}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 日志打印：数据操作错误，来源：未知，操作：删除，数据描述：未知，数据值：未知，原因：记录不存在。</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 定义操作错误信息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DataOperationError error </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DataOperationError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;数据库表 user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 数据来源</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;用户名&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 数据描述</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;pangju666&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 数据值</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;记录不存在&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 错误原因</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DataOperationException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;删除&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,        </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 操作类型</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;删除用户失败&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 展示消息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    error         </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 错误信息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 接口响应：{&quot;code&quot;: -2000, &quot;message&quot;: &quot;删除用户失败&quot;, &quot;data&quot;: null}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 日志打印：数据操作错误，来源：数据库表 user，操作：删除，数据描述：用户名，数据值：pangju666，原因：记录不存在。</span></span></code></pre></div><h3 id="远程服务异常" tabindex="-1">远程服务异常 <a class="header-anchor" href="#远程服务异常" aria-label="Permalink to &quot;远程服务异常&quot;">​</a></h3><div class="tip custom-block github-alert"><p class="custom-block-title">TIP</p><p>建议配合<a href="/pangju-java-doc/framework/web/client.html"><code>RestRequestBuilder</code></a>使用。</p></div><h4 id="http远程服务异常" tabindex="-1">Http远程服务异常 <a class="header-anchor" href="#http远程服务异常" aria-label="Permalink to &quot;Http远程服务异常&quot;">​</a></h4><p><code>io.github.pangju666.framework.web.exception.remote.HttpRemoteServiceException</code></p><p><code>io.github.pangju666.framework.web.model.error.HttpRemoteServiceError</code></p><p>请求第三方接口时产生的错误。</p><p>特点：</p><ul><li>存在属性<code>error</code>用于表示远程服务错误信息。</li><li>构建时需要传入远程服务错误信息。</li><li>日志打印格式：http远程服务请求失败，服务：{error.service}，功能：{error.api}，链接：{error.url}，http状态码：{error.httpStatus} 错误码：{error.code} 错误信息：{ error.message}</li></ul><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">HttpRemoteServiceError error </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HttpRemoteServiceError.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Builder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;测试服务&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;测试接口&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http://xxxxx/api/v1/test&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">code</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;API_CAN_NOT_USE&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">message</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;接口暂时不可用&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">httpStatus</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(HttpStatus.NOT_FOUND)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> HttpRemoteServiceException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;调用用户服务失败&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, error);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 接口响应：{&quot;code&quot;: -1100, &quot;message&quot;: &quot;调用用户服务失败&quot;, &quot;data&quot;: null}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 日志打印：http远程服务请求失败，服务：测试服务，功能：测试接口，链接：http://xxxxx/api/v1/test，http状态码：404 错误码：API_CAN_NOT_USE 错误信息：接口暂时不可用</span></span></code></pre></div><h4 id="http远程服务超时异常" tabindex="-1">Http远程服务超时异常 <a class="header-anchor" href="#http远程服务超时异常" aria-label="Permalink to &quot;Http远程服务超时异常&quot;">​</a></h4><p><code>io.github.pangju666.framework.web.exception.remote.HttpRemoteServiceTimeoutException</code></p><p><code>io.github.pangju666.framework.web.model.error.HttpRemoteServiceError</code></p><p>请求第三方接口超时产生的错误。</p><p>特点：</p>`,74),s("ul",null,[s("li",null,[t("存在属性"),s("code",null,"error"),t("用于表示远程服务错误信息。")]),s("li",null,"构建时需要传入远程服务错误信息。"),s("li",{"error.url":""},"日志打印格式：http远程服务请求超时，服务：{error.service}，功能：{error.api}，链接：")],-1),a(`<div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">HttpRemoteServiceError error </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HttpRemoteServiceError.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Builder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;测试服务&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;测试接口&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http://xxxxx/api/v1/test&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> HttpRemoteServiceTimeoutException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;调用用户服务超时&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, error);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 接口响应：{&quot;code&quot;: -1110, &quot;message&quot;: &quot;调用用户服务超时&quot;, &quot;data&quot;: null}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 日志打印：http远程服务请求超时，服务：测试服务，功能：测试接口，链接：http://xxxxx/api/v1/test</span></span></code></pre></div><h3 id="认证授权异常-1" tabindex="-1">认证授权异常 <a class="header-anchor" href="#认证授权异常-1" aria-label="Permalink to &quot;认证授权异常&quot;">​</a></h3><div class="tip custom-block github-alert"><p class="custom-block-title">TIP</p><p>如果需要账户已锁定、密码错误之类的特定异常，需要自己定义。</p></div><h4 id="认证过期异常" tabindex="-1">认证过期异常 <a class="header-anchor" href="#认证过期异常" aria-label="Permalink to &quot;认证过期异常&quot;">​</a></h4><p><code>io.github.pangju666.framework.web.exception.authentication.AuthenticationExpireException</code></p><p>认证过期时产生的错误，比如：Token过期、Session会话过期之类的。</p><p>特点：</p><ul><li>构建时只需要传入错误消息。</li><li>不打印日志。</li><li>接口HTTP响应状态码为：401。</li></ul><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AuthenticationExpireException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;登录已过期，请重新登录&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 接口响应：{&quot;code&quot;: -3100, &quot;message&quot;: &quot;登录已过期，请重新登录&quot;, &quot;data&quot;: null}</span></span></code></pre></div><h4 id="角色缺失异常" tabindex="-1">角色缺失异常 <a class="header-anchor" href="#角色缺失异常" aria-label="Permalink to &quot;角色缺失异常&quot;">​</a></h4><p><code>io.github.pangju666.framework.web.exception.authentication.NoRoleException</code></p><p>用户缺失指定角色时产生的错误。</p><p>特点：</p><ul><li>构建时只需要传入错误消息。</li><li>不打印日志。</li><li>接口HTTP响应状态码为：403。</li></ul><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> NoRoleException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;需要管理员角色&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 接口响应：{&quot;code&quot;: -3200, &quot;message&quot;: &quot;登录已过期，请重新登录&quot;, &quot;data&quot;: null}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> NoRoleException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 接口响应：{&quot;code&quot;: -3200, &quot;message&quot;: &quot;缺少相应角色&quot;, &quot;data&quot;: null}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> NoRoleException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;admin&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 接口响应：{&quot;code&quot;: -3200, &quot;message&quot;: &quot;缺少 admin 角色&quot;, &quot;data&quot;: null}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> NoRoleException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;admin&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;clerk&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 接口响应：{&quot;code&quot;: -3200, &quot;message&quot;: &quot;至少需要 admin、clerk 中任一角色&quot;, &quot;data&quot;: null}</span></span></code></pre></div><h4 id="权限缺失异常" tabindex="-1">权限缺失异常 <a class="header-anchor" href="#权限缺失异常" aria-label="Permalink to &quot;权限缺失异常&quot;">​</a></h4><p><code>io.github.pangju666.framework.web.exception.authentication.NoPermissionException</code></p><p>用户缺失指定权限时产生的错误。</p><p>特点：</p><ul><li>构建时只需要传入错误消息。</li><li>不打印日志。</li><li>接口HTTP响应状态码为：403。</li></ul><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> NoPermissionException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;没有查看用户的权限&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 接口响应：{&quot;code&quot;: -3300, &quot;message&quot;: &quot;没有查看用户的权限&quot;, &quot;data&quot;: null}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> NoPermissionException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 接口响应：{&quot;code&quot;: -3300, &quot;message&quot;: &quot;缺少相应权限&quot;, &quot;data&quot;: null}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> NoPermissionException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;查看所有用户信息&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 接口响应：{&quot;code&quot;: -3300, &quot;message&quot;: &quot;缺少 查看所有用户信息 权限&quot;, &quot;data&quot;: null}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> NoPermissionException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;查看所有用户信息&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;删除用户信息&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 接口响应：{&quot;code&quot;: -3300, &quot;message&quot;: &quot;至少需要 查看所有用户信息、删除用户信息 中任一权限&quot;, &quot;data&quot;: null}</span></span></code></pre></div><h3 id="数据操作异常-1" tabindex="-1">数据操作异常 <a class="header-anchor" href="#数据操作异常-1" aria-label="Permalink to &quot;数据操作异常&quot;">​</a></h3><div class="tip custom-block github-alert"><p class="custom-block-title">TIP</p><p>建议搭配<a href="/pangju-java-doc/framework/web/data-assert.html">数据操作断言</a>使用。</p></div><h4 id="数据创建异常" tabindex="-1">数据创建异常 <a class="header-anchor" href="#数据创建异常" aria-label="Permalink to &quot;数据创建异常&quot;">​</a></h4><p><code>io.github.pangju666.framework.web.exception.data.DataCreateException</code></p><p>数据创建失败时的错误。</p><p>特点：</p><ul><li>日志打印格式：数据操作错误，来源：{error.source}，操作：创建，数据描述：{error.description}，数据值：{error.data}，原因：{reason}。</li></ul><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 定义错误原因</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DataCreateException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;记录不存在&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // 错误原因</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 接口响应：{&quot;code&quot;: -2200, &quot;message&quot;: &quot;数据创建错误&quot;, &quot;data&quot;: null}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 日志打印：数据操作错误，来源：未知，操作：创建，数据描述：未知，数据值：未知，原因：记录不存在。</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 定义错误信息和错误原因</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DataCreateException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;数据创建错误&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 错误消息</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;记录不存在&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // 错误原因</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 接口响应：{&quot;code&quot;: -2200, &quot;message&quot;: &quot;数据创建错误&quot;, &quot;data&quot;: null}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 日志打印：数据操作错误，来源：未知，操作：创建，数据描述：未知，数据值：未知，原因：记录不存在。</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 定义操作错误信息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DataOperationError error </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DataOperationError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;数据库表 user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 数据来源</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;用户名&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 数据描述</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;pangju666&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 数据值</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;记录不存在&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 错误原因</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DataCreateException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;数据创建错误&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 展示消息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    error         </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 错误信息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 接口响应：{&quot;code&quot;: -2200, &quot;message&quot;: &quot;数据创建错误&quot;, &quot;data&quot;: null}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 日志打印：数据操作错误，来源：数据库表 user，操作：创建，数据描述：用户名，数据值：pangju666，原因：记录不存在。</span></span></code></pre></div><h4 id="数据更新异常" tabindex="-1">数据更新异常 <a class="header-anchor" href="#数据更新异常" aria-label="Permalink to &quot;数据更新异常&quot;">​</a></h4><p><code>io.github.pangju666.framework.web.exception.data.DataUpdateException</code></p><p>数据更新失败时的错误。</p><p>特点：</p><ul><li>日志打印格式：数据操作错误，来源：{error.source}，操作：更新，数据描述：{error.description}，数据值：{error.data}，原因：{reason}。</li></ul><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 定义错误原因</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DataUpdateException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;记录不存在&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // 错误原因</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 接口响应：{&quot;code&quot;: -2300, &quot;message&quot;: &quot;数据更新错误&quot;, &quot;data&quot;: null}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 日志打印：数据操作错误，来源：未知，操作：更新，数据描述：未知，数据值：未知，原因：记录不存在。</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 定义错误信息和错误原因</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DataUpdateException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;数据更新错误&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 错误消息</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;记录不存在&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // 错误原因</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 接口响应：{&quot;code&quot;: -2300, &quot;message&quot;: &quot;数据更新错误&quot;, &quot;data&quot;: null}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 日志打印：数据操作错误，来源：未知，操作：更新，数据描述：未知，数据值：未知，原因：记录不存在。</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 定义操作错误信息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DataOperationError error </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DataOperationError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;数据库表 user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 数据来源</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;用户名&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 数据描述</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;pangju666&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 数据值</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;记录不存在&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 错误原因</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DataUpdateException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;数据更新错误&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 展示消息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    error         </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 错误信息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 接口响应：{&quot;code&quot;: -2300, &quot;message&quot;: &quot;数据更新错误&quot;, &quot;data&quot;: null}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 日志打印：数据操作错误，来源：数据库表 user，操作：更新，数据描述：用户名，数据值：pangju666，原因：记录不存在。</span></span></code></pre></div><h4 id="数据保存异常" tabindex="-1">数据保存异常 <a class="header-anchor" href="#数据保存异常" aria-label="Permalink to &quot;数据保存异常&quot;">​</a></h4><p><code>io.github.pangju666.framework.web.exception.data.DataSaveException</code></p><p>数据保存失败时的错误。。</p><p>特点：</p><ul><li>日志打印格式：数据操作错误，来源：{error.source}，操作：保存，数据描述：{error.description}，数据值：{error.data}，原因：{reason}。</li></ul><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 定义错误原因</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DataSaveException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;记录不存在&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // 错误原因</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 接口响应：{&quot;code&quot;: -2400, &quot;message&quot;: &quot;数据保存错误&quot;, &quot;data&quot;: null}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 日志打印：数据操作错误，来源：未知，操作：保存，数据描述：未知，数据值：未知，原因：记录不存在。</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 定义错误信息和错误原因</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DataSaveException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;数据保存错误&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 错误消息</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;记录不存在&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // 错误原因</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 接口响应：{&quot;code&quot;: -2400, &quot;message&quot;: &quot;数据保存错误&quot;, &quot;data&quot;: null}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 日志打印：数据操作错误，来源：未知，操作：保存，数据描述：未知，数据值：未知，原因：记录不存在。</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 定义操作错误信息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DataOperationError error </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DataOperationError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;数据库表 user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 数据来源</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;用户名&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 数据描述</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;pangju666&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 数据值</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;记录不存在&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 错误原因</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DataSaveException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;数据保存错误&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 展示消息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    error         </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 错误信息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 接口响应：{&quot;code&quot;: -2400, &quot;message&quot;: &quot;数据保存错误&quot;, &quot;data&quot;: null}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 日志打印：数据操作错误，来源：数据库表 user，操作：保存，数据描述：用户名，数据值：pangju666，原因：记录不存在。</span></span></code></pre></div><h4 id="数据删除异常" tabindex="-1">数据删除异常 <a class="header-anchor" href="#数据删除异常" aria-label="Permalink to &quot;数据删除异常&quot;">​</a></h4><p><code>io.github.pangju666.framework.web.exception.data.DataRemoveException</code></p><p>数据删除失败时的错误。。</p><p>特点：</p><ul><li>日志打印格式：数据操作错误，来源：{error.source}，操作：删除，数据描述：{error.description}，数据值：{error.data}，原因：{reason}。</li></ul><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 定义错误原因</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DataRemoveException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;记录不存在&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // 错误原因</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 接口响应：{&quot;code&quot;: -2500, &quot;message&quot;: &quot;数据删除错误&quot;, &quot;data&quot;: null}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 日志打印：数据操作错误，来源：未知，操作：删除，数据描述：未知，数据值：未知，原因：记录不存在。</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 定义错误信息和错误原因</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DataRemoveException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;数据删除错误&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 错误消息</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;记录不存在&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // 错误原因</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 接口响应：{&quot;code&quot;: -2500, &quot;message&quot;: &quot;数据删除错误&quot;, &quot;data&quot;: null}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 日志打印：数据操作错误，来源：未知，操作：删除，数据描述：未知，数据值：未知，原因：记录不存在。</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 定义操作错误信息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DataOperationError error </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DataOperationError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;数据库表 user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 数据来源</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;用户名&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 数据描述</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;pangju666&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 数据值</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;记录不存在&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 错误原因</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DataRemoveException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;数据删除错误&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 展示消息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    error         </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 错误信息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 接口响应：{&quot;code&quot;: -2500, &quot;message&quot;: &quot;数据删除错误&quot;, &quot;data&quot;: null}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 日志打印：数据操作错误，来源：数据库表 user，操作：查询，数据描述：用户名，数据值：pangju666，原因：记录不存在。</span></span></code></pre></div><h4 id="数据查询异常" tabindex="-1">数据查询异常 <a class="header-anchor" href="#数据查询异常" aria-label="Permalink to &quot;数据查询异常&quot;">​</a></h4><p><code>io.github.pangju666.framework.web.exception.data.DataQueryException</code></p><p>数据查询失败时的错误。</p><p>特点：</p><ul><li>日志打印格式：数据操作错误，来源：{error.source}，操作：查询，数据描述：{error.description}，数据值：{error.data}，原因：{reason}。</li></ul><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 定义错误原因</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DataQueryException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;记录不存在&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // 错误原因</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 接口响应：{&quot;code&quot;: -2100, &quot;message&quot;: &quot;数据查询错误&quot;, &quot;data&quot;: null}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 日志打印：数据操作错误，来源：未知，操作：查询，数据描述：未知，数据值：未知，原因：记录不存在。</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 定义错误信息和错误原因</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DataQueryException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;数据查询错误&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 错误消息</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;记录不存在&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // 错误原因</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 接口响应：{&quot;code&quot;: -2100, &quot;message&quot;: &quot;数据查询错误&quot;, &quot;data&quot;: null}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 日志打印：数据操作错误，来源：未知，操作：查询，数据描述：未知，数据值：未知，原因：记录不存在。</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 定义操作错误信息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DataOperationError error </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DataOperationError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;数据库表 user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 数据来源</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;用户名&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 数据描述</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;pangju666&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 数据值</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;记录不存在&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 错误原因</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DataQueryException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;数据查询错误&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 展示消息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    error         </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 错误信息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 接口响应：{&quot;code&quot;: -2100, &quot;message&quot;: &quot;数据查询错误&quot;, &quot;data&quot;: null}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 日志打印：数据操作错误，来源：数据库表 user，操作：查询，数据描述：用户名，数据值：pangju666，原因：记录不存在。</span></span></code></pre></div><h3 id="参数校验异常" tabindex="-1">参数校验异常 <a class="header-anchor" href="#参数校验异常" aria-label="Permalink to &quot;参数校验异常&quot;">​</a></h3><p>特点：</p><ul><li>构建时只需要传入错误消息。</li><li>不打印日志。</li><li>接口HTTP响应状态码为：400。</li></ul><h4 id="数据存在异常" tabindex="-1">数据存在异常 <a class="header-anchor" href="#数据存在异常" aria-label="Permalink to &quot;数据存在异常&quot;">​</a></h4><p><code>io.github.pangju666.framework.web.exception.validation.data.DataExistException</code></p><h4 id="数据不存在异常" tabindex="-1">数据不存在异常 <a class="header-anchor" href="#数据不存在异常" aria-label="Permalink to &quot;数据不存在异常&quot;">​</a></h4><p><code>io.github.pangju666.framework.web.exception.validation.data.DataNotExistException</code></p><h4 id="id存在异常" tabindex="-1">Id存在异常 <a class="header-anchor" href="#id存在异常" aria-label="Permalink to &quot;Id存在异常&quot;">​</a></h4><p><code>io.github.pangju666.framework.web.exception.validation.id.IdExistException</code></p><h4 id="id不存在异常" tabindex="-1">Id不存在异常 <a class="header-anchor" href="#id不存在异常" aria-label="Permalink to &quot;Id不存在异常&quot;">​</a></h4><p><code>io.github.pangju666.framework.web.exception.validation.id.IdNotExistException</code></p><h4 id="非法id异常" tabindex="-1">非法Id异常 <a class="header-anchor" href="#非法id异常" aria-label="Permalink to &quot;非法Id异常&quot;">​</a></h4><p><code>io.github.pangju666.framework.web.exception.validation.id.InvalidIdException</code></p><h4 id="标识符存在异常" tabindex="-1">标识符存在异常 <a class="header-anchor" href="#标识符存在异常" aria-label="Permalink to &quot;标识符存在异常&quot;">​</a></h4><p><code>io.github.pangju666.framework.web.exception.validation.identifier.IdentifierExistException</code></p><h4 id="标识符不存在异常" tabindex="-1">标识符不存在异常 <a class="header-anchor" href="#标识符不存在异常" aria-label="Permalink to &quot;标识符不存在异常&quot;">​</a></h4><p><code>io.github.pangju666.framework.web.exception.validation.identifier.IdentifierNotExistException</code></p><h4 id="非法标识符异常" tabindex="-1">非法标识符异常 <a class="header-anchor" href="#非法标识符异常" aria-label="Permalink to &quot;非法标识符异常&quot;">​</a></h4><p><code>io.github.pangju666.framework.web.exception.validation.identifier.InvalidIdentifierException</code></p><h3 id="自定义异常" tabindex="-1">自定义异常 <a class="header-anchor" href="#自定义异常" aria-label="Permalink to &quot;自定义异常&quot;">​</a></h3><p>如果框架内置的异常无法满足你的需求，那么可以通过继承<code>BaseHttpException</code>类或者内置异常类来定义自己的异常类。</p><p>假设我要定义一个业务逻辑类型的异常，异常错误码设置为200，Http响应状态码设置为400</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">HttpException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">code</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HttpExceptionType.SERVICE, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">description</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;测试异常&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">status</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HttpStatus.HttpStatus.BAD_REQUEST)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TestException</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ServiceException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TestException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(String </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">message</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">		super</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(message);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TestException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(String </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">message</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, String </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reason</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">		super</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(message, reason);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TestException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(String </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">message</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Throwable </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">cause</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">		super</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(message, cause);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TestException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(String </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">message</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, String </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reason</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Throwable </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">cause</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">		super</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(message, reason, cause);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	// 自定义日志打印逻辑，也可以选择不重写这个方法，直接使用父类的日志打印逻辑</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Override</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Logger </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">logger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Level </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">level</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		logger.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">atLevel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(level)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setCause</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;自定义异常，原因：&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.reason);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TestException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;测试错误&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 接口响应：{&quot;code&quot;: -1200, &quot;message&quot;: &quot;测试错误&quot;, &quot;data&quot;: null}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 日志打印：自定义异常，原因：测试错误</span></span></code></pre></div>`,76)])])}const u=n(p,[["render",h]]);export{c as __pageData,u as default};
